{% extends 'base.html' %}
{% block title %}To-Do List{% endblock title %}

{% if messages %}
    {% block messages %}
        {% for message in messages %} 
            <div class="alert alert-success alert-dismissible text-center fade show rounded-0" role="alert">
                {{message}}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>      
        {% endfor %}
    {% endblock messages %}
    
{% endif %}

{% block content %}
    <div class="col-12 mt-3">
        <h1>What do I need to do?</h1>
        <form action="/" method="POST">
            {% csrf_token %}
            {% if all_items %}
                <table class="table table-sm">
                    {% for action in all_items %}
                        {% if action.completed %}
                            <tr class="table-secondary">
                                <td>{{forloop.counter}}</td>
                                {% comment %} <td>{{action.id}}</td> {% endcomment %}
                                <td class="striker"><a href="{% url 'td1_edit' action.id %}">{{action.item}}</a></td>
                                <td><a href="{% url 'td1_uncross' action.id %}">Uncross</a></td>
                                <td><a href="{% url 'td1_delete' action.id %}">Delete</a></td>
                            </tr>
                        {% else %}
                            <tr>
                                <td>{{forloop.counter}}</td>
                                {% comment %} <td>{{action.id}}</td> {% endcomment %}
                                <td><a href="{% url 'td1_edit' action.id %}">{{action.item}}</a></td>
                                <td><a href="{% url 'td1_cross_off' action.id%}">Cross off</a></td>
                                <td><a href="{% url 'td1_delete' action.id %}">Delete</a></td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                </table>
            {% endif %}
        
            
            <div class="d-flex">
                <input class="form-control me-2" type="input" placeholder="To-Do item" aria-label="To do item" name="item" value="{{curent_name}}">
                <button class="btn btn-outline-success" type="submit">Add</button>
            </div>
        </form>
    </div>
{% endblock content %}

